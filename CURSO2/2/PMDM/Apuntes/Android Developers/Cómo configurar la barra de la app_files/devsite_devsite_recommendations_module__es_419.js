(function(_ds){var window=this;var XT=async function(a){var b=new URLSearchParams;b.append("r",_ds.Ae(a));a=new _ds.ti(_ds.F().toString());for(var c of a.j.me())if(c.startsWith("experiments.DevSiteRecommendationsFeatures.")){const d=_ds.Hi(a,c);d&&b.append(c,d)}b=await _ds.aj(`${"/significatio/recommendations"}?${b}`,void 0,"GET");c=null;b&&(c=_ds.Be(WT,b));return c},bU=function(a){var b=window.location.pathname;const c=new ZT;var d=new $T;b=_ds.Fe(d,1,b);a=_ds.Ab(b,a.toString());_ds.ze(c,1,a,$T);a=new aU;return _ds.ue(a,1,c)},
cU=async function(a){return XT(a)},eU=function(a,b){const c=[];for(const l of a)try{a=c;var d=a.push,e=b;const m=new URL(l),n=_ds.F();if(m.hostname!==n.hostname)throw new dU("Recommendations must be from the same site.");var f=m.pathname,g=new $T;var h=_ds.Fe(g,1,f);var k=_ds.Ab(h,e.toString());d.call(a,k)}catch(m){if(m instanceof dU)console.warn("Link is off-site, not recommending.",l);else throw m;}return c},$T=class extends _ds.ne{constructor(a){super(a)}getTenantId(){return _ds.Ee(this,2)}};var ZT=class extends _ds.ne{constructor(){super(void 0,-1,fU)}},fU=[1];var gU=function(a,b){return _ds.ye(a,3,b)},hU=function(a,b){return _ds.ye(a,4,b)},iU=function(a,b){return _ds.zb(a,5,b,0)},aU=class extends _ds.ne{constructor(){super(void 0,-1,jU)}},jU=[3,4];var WT=class extends _ds.ne{constructor(a){super(a,-1,kU)}m(){return _ds.Cb(this,_ds.rG,1)}D(){return _ds.qe(this,5,0)}H(){return _ds.x(this,6)}},lU=class extends _ds.ne{constructor(a){super(a)}getName(){return _ds.x(this,1)}},kU=[1,2];var mU=function(a){var b=a.Nl,c=a.Pk,d=a.ll;a='<h2 class="significatio-heading no-link">'+_ds.R(a.Xf)+"</h2>";""!=b?(a=a+'<div class="info-container"><button type="button" class="button-flat info-button significatio-info-container" id="significatio-info-button" aria-label="'+_ds.kq("Acerca de las recomendaciones"),a=a+'" data-title="'+_ds.kq("Acerca de las recomendaciones"),a+='"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="significatio-icon-info"><path d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg></button></div>'):
(a=a+'<div class="significatio-popout-container"><button type="button" class="significatio-popout-toggle button-flat significatio-info-container" id="significatio-popout-toggle" aria-haspopup="true" aria-controls="significatio-popout" aria-label="'+_ds.kq("Acerca de las recomendaciones"),a=a+'" data-title="'+_ds.kq("Acerca de las recomendaciones"),a+='"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="significatio-icon-info"><path d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg></button><div class="significatio-popout" id="significatio-popout" aria-labelledby="significatio-popout-toggle" hidden><h4 class="significatio-popout-heading">Acerca de las recomendaciones</h4><p>Estas recomendaciones te ayudan a encontrar el contenido que buscas. Es posible que se basen en la p\u00e1gina que est\u00e1s viendo en ese momento y las que se guardaron en tu cuenta <a href="https://myactivity.google.com/activitycontrols/webandapp" class="significatio-popout-interactive">Actividad web y de aplicaciones</a>.</p><a href="http://go/devsite-recommendations" class="significatio-popout-interactive">M\u00e1s informaci\u00f3n</a></div></div>');
a+='<div class="significatio-buttons">';d&&(a+='<p class="significatio-internal-only">Solo para uso interno</p>');""!=c&&(a=a+'<button type="button" class="significatio-issue-button button-flat" id="significatio-issue-button" aria-label="'+_ds.kq("Denunciar recomendaciones de baja calidad"),a=a+'" data-title="'+_ds.kq("Denunciar recomendaciones de baja calidad"),a+='"><span class="material-icons" aria-hidden="true">bug_report</span></button>');return(0,_ds.Q)(a+"</div>")},nU=function(){return(0,_ds.Q)('<div class="significatio-overview"></div><div class="significatio-body"><div class="significatio-recommendations"></div><div class="significatio-loading"><devsite-spinner size="64"></devsite-spinner></div></div>')},
pU=function(a){a=a.ud;let b="";const c=a.length;for(let d=0;d<c;d++)b+=oU(a[d]);return(0,_ds.Q)(b)},oU=function(a){var b=[a.Ha(),_ds.x(a,3),_ds.x(a,4)];b='<div class="significatio-card"><h3 class="significatio-card-heading no-link"><a href="'+_ds.T(_ds.U(a.getUrl()+"?"+_ds.x(a,8)))+'" data-category="Site-Wide Custom Events" data-label="devsite-recommendation card link" data-action="click" track-type="recommendations" track-name="cardClick" track-metadata-eventdetail="'+_ds.T(a.getUrl())+'">'+_ds.R(b.filter(c=>
0<(""+_ds.$p(c)).length)[0])+'</a></h3><p class="significatio-card-description">'+_ds.R(_ds.fq(_ds.x(a,5)))+'</p><div class="significatio-card-meta">Updated <span class="significatio-date" date="'+_ds.T(_ds.De(_ds.Gb(a,_ds.Wy,7),1))+'"></span>';if(0!=_ds.$p(_ds.Cb(a,_ds.oG,11)).length){b=b+'<span class="significatio-recommend-popout-container"><button type="button" class="significatio-popout-toggle button-flat significatio-attr-toggle" aria-haspopup="true" aria-controls="significatio-popout" aria-label="'+
_ds.kq("\u00bfPor qu\u00e9 veo esta recomendaci\u00f3n?");b=b+'" data-title="'+_ds.kq("\u00bfPor qu\u00e9 veo esta recomendaci\u00f3n?");b+='"><i class="material-icons significatio-attr-info">help_outline</i></button><div class="significatio-popout significatio-attr" aria-labelledby="significatio-popout-toggle" hidden><h4 class="significatio-popout-heading">\u00bfPor qu\u00e9 veo esta recomendaci\u00f3n?</h4><p>Porque visitaste ';a=_ds.Cb(a,_ds.oG,11);const c=a.length;for(let d=0;d<c;d++){const e=
a[d];b+=' <a href="'+_ds.T(_ds.U(e.getUrl()))+'" class="significatio-popout-interactive" track-type="recommendations" track-name="attributionLink">'+_ds.R(e.Ha())+"</a>"}b+=".</p></div></span>"}return(0,_ds.Q)(b+"</div></div>")},qU=function(a){var b=a.on;a='<div class="significatio-card error">'+(0,_ds.Q)('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="significatio-error-icon"><path d="M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/></svg>')+
'<p class="significatio-card-description">';a+='No hay recomendaciones en este momento.</p><p class="significatio-card-description">';b='Intenta <a href="#" class="'+(_ds.T(b)+'">acceder</a> a tu Cuenta\u00a0de\u00a0Google.');return(0,_ds.Q)(a+b+"</p></div>")};var rU={"in-page":5},tU=function(a){a.eventHandler.listen(document,"devsite-on-recommendations",b=>{sU(a)?a.T||(b=b.W)&&(null===b||void 0===b?0:b.detail)&&(b=b.detail,5===b.D()?(a.v=b,a.T=!0,a.removeAttribute("hidden"),a.render()):a.m.j()):a.m.j()})},sU=function(a){return!a.R&&document.querySelector("devsite-recommendations:not([yield])")?!1:!0},CU=async function(a,b){var c,d,e=[2,5,3];if(!a.M&&e.some(k=>(null===b||void 0===b?void 0:b.D())===k)&&((null===b||void 0===b?0:b.m().length)&&a.dispatchEvent(new CustomEvent("devsite-on-recommendations",
{detail:b,bubbles:!0})),3!==(null===b||void 0===b?void 0:b.D()))){uU(a);return}if(a.display&&rU[a.display]!==(null===b||void 0===b?void 0:b.D()))uU(a);else{e=a.querySelector(".significatio-overview");var f=null===b||void 0===b?void 0:b.H();a.F=(null===b||void 0===b?void 0:_ds.x(b,7))||"";a.D=(null===b||void 0===b?void 0:_ds.x(b,8))||"";var g=1===(null===b||void 0===b?void 0:_ds.qe(b,9,0));e&&f?_ds.L(e,mU,{Xf:f,Nl:a.F,Pk:a.D,ll:g}):await vU(a,!0,!0,"no title");if(null===b||void 0===b?0:b.m().length){_ds.L(a.h,
pU,{ud:b.m()});wU(a);(null===b||void 0===b?0:_ds.Cb(b,lU,2).length)&&xU(_ds.Cb(b,lU,2));a.C=a.querySelector("#significatio-stats-button");(null===b||void 0===b?0:_ds.x(b,4))?(null===(c=a.C)||void 0===c?void 0:c.removeAttribute("hidden"),a.J=_ds.x(b,4)):null===(d=a.C)||void 0===d?void 0:d.setAttribute("hidden","");if(a.h){e=a.h.querySelectorAll(".significatio-recommend-popout-container");for(var h of e)yU(a,h)}(h=a.querySelector(".significatio-popout-container"))&&yU(a,h);zU(a);AU(a);BU(a);a.removeAttribute("loading");
a.m.j()}else await vU(a,!1)}},EU=async function(a){a.setAttribute("loading","");await DevsiteApp.whenReady();a.h&&_ds.Jh(a.h);const b=await DU(a);let c=null;try{c=await cU(b)}catch(d){await vU(a,!0,!1,"error fetching recommendations");return}a.v=c;await CU(a,c)},vU=async function(a,b=!0,c=!1,d=""){var e,f;b&&_ds.ij(d);c&&(null===(e=a.parentNode)||void 0===e?void 0:e.removeChild(a));a.m.j();await DevsiteApp.whenReady();await DevsiteApp.isSignedIn()?null===(f=a.parentNode)||void 0===f?void 0:f.removeChild(a):
(_ds.L(a.h,qU,{on:"significatio-sign-in"}),BU(a),AU(a),a.removeAttribute("loading"))},yU=function(a,b){const c=b.querySelector(".significatio-popout-toggle"),d=b.querySelector(".significatio-popout");c&&d&&(a.O.push(d),a.eventHandler.listen(d,"focusout",e=>{e.relatedTarget&&(_ds.ai(e.relatedTarget,null,"significatio-popout",6)||a.Vb(d))}),a.eventHandler.listen(c,"click",()=>{a.H.get(d)||(d.hasAttribute("active")?a.Vb(d):a.zd(d))}))},DU=async function(a){await DevsiteApp.whenReady();const b=await DevsiteApp.getTenantId()||
0;return iU(hU(gU(bU(b),eU(a.L.map(c=>c.href),b)),eU(a.G.map(c=>c.href),b)),Number(a.getAttribute("generated"))||0)},uU=function(a){var b;a.m.j();null===(b=a.parentNode)||void 0===b?void 0:b.removeChild(a)},wU=function(a){if(a.h){var b=Array.from(a.h.querySelectorAll(".significatio-date"));for(const c of b)b=c.getAttribute("date"),c.textContent=(new Date(1E3*Number(b))).toLocaleDateString("default",{month:"short",year:"numeric",day:"numeric",timeZone:a.timeZone})}},xU=function(a){for(const b of a)document.body.dispatchEvent(new CustomEvent("devsite-analytics-set-dimension",
{bubbles:!0,detail:{name:b.getName(),value:_ds.x(b,2),gaid:_ds.x(b,3)}}))},zU=function(a){var b=a.querySelector("#significatio-issue-button");b&&a.eventHandler.listen(b,"click",()=>void FU(a));(b=a.querySelector("#significatio-info-button"))&&a.eventHandler.listen(b,"click",()=>void GU(a));a.C&&a.eventHandler.listen(a.C,"click",()=>{a.J&&_ds.Pn(a.J,{target:"_blank"})});a.eventHandler.listen(document,"click",c=>{for(const d of a.O)!d.contains(c.target)&&d.hasAttribute("active")&&a.Vb(d)})},AU=function(a){a.eventHandler.listen(a,
"click",async b=>{_ds.ai(b.target,null,"significatio-sign-in",2)&&await HU()})},BU=function(a){if(a.h){a=Array.from(a.h.querySelectorAll(".significatio-card:not([show])"));for(const b of a)b.setAttribute("show","")}},HU=async function(){await DevsiteApp.signIn()},GU=async function(a){a.F&&_ds.Pn(a.F,{target:"_blank"})},FU=async function(a){a.D&&_ds.Pn(a.D,{target:"_blank"})},IU=class extends _ds.A{constructor(a){super();this.timeZone=a;this.eventHandler=new _ds.I(this);this.R=!0;this.T=this.M=this.V=
this.K=!1;this.L=[];this.G=[];this.v=this.h=null;this.display="";this.H=new Map;this.O=[];this.C=this.J=null;this.D=this.F="";this.m=new _ds.wk;this.loaded=this.m.promise;this.X=new _ds.wk;this.oa=new _ds.wk}connectedCallback(){this.K=!0;this.L=[...this.querySelectorAll("a[href]")];this.G=[...this.querySelectorAll('link[rel="disallow"][href]')];this.display=this.getAttribute("display");this.getAttribute("display")?"in-page"===this.getAttribute("display")&&(tU(this),this.oa.j(),this.M=!0):this.render()}disconnectedCallback(){document.body.dispatchEvent(new CustomEvent("devsite-recommendations-disconnected",
{bubbles:!0}));_ds.K(this.eventHandler);this.L=[];this.G=[]}static get observedAttributes(){return["yield","display"]}attributeChangedCallback(a,b,c){"yield"===a?this.R=null==c:"display"===a&&(this.display=c);this.render()}async render(){if(this.K)if(sU(this))if(_ds.L(this,nU),this.h=this.querySelector(".significatio-recommendations")){if(this.v?await CU(this,this.v):await EU(this),!this.V)try{await DevsiteApp.intersectionEnterForElement(this.h);var a;if(null!=this.v){for(const c of null===(a=this.v)||
void 0===a?void 0:a.m()){{a=c;const f=_ds.Gb(a,_ds.pG,10);var b=f?{targetPage:a.getUrl(),targetType:_ds.qe(f,3,0),targetRank:_ds.De(f,2),targetIdenticalDescriptions:_ds.De(f,4),targetTitleWords:_ds.De(f,5),targetDescriptionWords:_ds.De(f,6),experiment:_ds.x(f,7)}:void 0}a=b;if(!a)continue;const d={category:"Site-Wide Custom Events",action:"recommended",label:c.getUrl(),additionalParams:{recommendations:a}};this.dispatchEvent(new CustomEvent("devsite-analytics-observation",{detail:d,bubbles:!0}));
const e={eventData:JSON.stringify({type:"recommendations",name:"impression",metadata:a})};this.dispatchEvent(new CustomEvent("devsite-analytics-observation-cloudtrack",{detail:e,bubbles:!0}))}this.X.j();this.V=!0}}catch(c){}}else await vU(this,!0,!1,"no recommendations element");else this.m.j()}async zd(a){a.removeAttribute("hidden");await _ds.gj();a.setAttribute("active","");a=a.querySelector(".significatio-popout-interactive");null===a||void 0===a?void 0:a.focus()}async Vb(a){!this.H.get(a)&&a&&
(this.H.set(a,!0),a.removeAttribute("active"),await _ds.gj(),_ds.uk(this.eventHandler,a,"transitionend",()=>{a.setAttribute("hidden","");this.H.set(a,!1)}))}},dU=class extends Error{constructor(a){super(a);Object.setPrototypeOf(this,dU.prototype)}};try{window.customElements.define("devsite-recommendations",IU)}catch(a){console.warn("Unrecognized DevSite custom element - DevsiteRecommendations",a)};})(_ds_www);
